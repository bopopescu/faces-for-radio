$(document).ready(function(){function e(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function t(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n];e[n]=r}return e}facesMadeForRadio=0;facesJson=JSON.parse($("#data").html());var n=facesJson[0].faces,r=t(facesJson[0].maleAnswers),i=t(facesJson[0].femaleAnswers);$("#play_game").on("click",function(e){var t=$(this).parents("#landing_screen");t.attr("class","dead");t.transition({x:"-100%"});var n=$("div#screen0");n.transition({x:"-100%"});n.attr("class","screen active")});$("button.answer").on("click",function(e){var t=$(this).parents("div.screen");t.addClass("inactive");var n=$("div#screen0").find("audio");n.get(0).pause();$("div#screen0").find("span.glyphicon").transition({x:"100px"}).transition({x:"0px",delay:500});var r=t.next();r.attr("class","screen active");var i=r.find("audio").attr("src");n.attr("src",i);var s=$(this).parent().children(".correct").children(),o=$(this).parent().children(":not(.correct)").children();o.transition({x:"-100%"},500,"snap");s.transition({x:"-100%",delay:500},500,"snap");r.children("div.image-frame").children("img").transition({x:"-120%",delay:500});r.children(".btn-group-vertical").transition({x:"-100%",delay:600});if(!r.attr("id")){var u=$("div.image-frame").outerHeight()+$("div.btn-group-vertical").outerHeight();$("#questions").transition({y:-u},1e3,"snap");$("#scoreboard").css("display","block");$("#your_score").text(facesMadeForRadio)}});var s=$("div#questions").children(),o=[],u=[],a=[];for(var f=0;f<n.length;f++)n[f].difficulty=="easy"?o.push(n[f]):n[f].local=="True"?u.push(n[f]):a.push(n[f]);var l=t(u).slice(0,u.length/2);for(var c=0;c<l.length;c++)o.push(l[c]);var h=t(a).slice(0,10-o.length);for(c=0;c<h.length;c++)o.push(h[c]);o=t(o);for(f=0;f<o.length;f++){var p,d=s.eq(f).children("div.image-frame").children("img"),v=s.eq(f).find("audio"),m=s.eq(f).children(".btn-group-vertical").children("button");o[f].sex=="f"?p=i.splice(0,2):o[f].name=="Click & Clack"?p=["Simon & Garfunkle","Bert & Ernie"]:p=r.splice(0,2);p.push(o[f].name);var g=t(p);for(c=0;c<m.length;c++){m.eq(c).html("<div>"+e(g[c])+"</div>");if(g[c]==o[f].name){var y=m.eq(c).attr("class");m.eq(c).attr("class",y+" correct")}}d.attr("src",o[f].img);v.attr("src",o[f].mp3)}$("button.correct").on("click",function(e){facesMadeForRadio+=10;facesMadeForRadio>100&&(facesMadeForRadio=0);$("p#score").text(facesMadeForRadio)});$("span.glyphicon").on("click",function(e){facesMadeForRadio+=-2;$("p#score").text(facesMadeForRadio)})});